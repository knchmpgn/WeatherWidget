<Window
    x:Class="WeatherWidget.Views.TaskbarWidget"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WeatherWidget.Views">
    <Grid x:Name="RootGrid"
          Background="Transparent"
          Loaded="RootGrid_Loaded"
          MinWidth="120"
          MaxWidth="180"
          Height="40">
        <Grid.Resources>
        <Style x:Key="ModernFlyoutPresenterStyle" TargetType="MenuFlyoutPresenter">
            <Setter Property="CornerRadius" Value="10" />
            <Setter Property="Padding" Value="6" />
            <Setter Property="Background" Value="#F21E1E1E" />
            <Setter Property="BorderBrush" Value="#3A3A3A" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>

        <Style x:Key="ModernMenuFlyoutItemStyle" TargetType="MenuFlyoutItem">
            <Setter Property="FontSize" Value="12.5" />
            <Setter Property="MinHeight" Value="32" />
        </Style>

        <MenuFlyout x:Key="WidgetMenu" MenuFlyoutPresenterStyle="{StaticResource ModernFlyoutPresenterStyle}">
            <MenuFlyoutItem Text="Settings" Click="Settings_Click" Style="{StaticResource ModernMenuFlyoutItemStyle}" />
            <MenuFlyoutSeparator />
            <MenuFlyoutItem Text="Exit WeatherWidget" Click="Exit_Click" Style="{StaticResource ModernMenuFlyoutItemStyle}" />
        </MenuFlyout>
        </Grid.Resources>
        <Border x:Name="MainBorder"
                Background="Transparent"
                CornerRadius="6"
                Padding="10,4"
                PointerPressed="Widget_Click"
                RightTapped="Widget_RightClick"
                PointerEntered="Widget_MouseEnter"
                PointerExited="Widget_MouseLeave">
            <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                <Image x:Name="WeatherIcon"
                       Width="30"
                       Height="30" />
                <StackPanel VerticalAlignment="Center">
                    <TextBlock x:Name="TempText"
                               Text="--°"
                               FontSize="11"
                               FontWeight="Bold"
                               Foreground="White"
                               FontFamily="Segoe UI Variable Display"
                               Margin="0,-2,0,0" />
                    <TextBlock x:Name="ConditionText"
                               Text="Loading..."
                               FontSize="10.5"
                               Foreground="White"
                               Opacity="0.8"
                               FontFamily="Segoe UI Variable Display Small"
                               TextTrimming="CharacterEllipsis"
                               MaxWidth="120" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>

